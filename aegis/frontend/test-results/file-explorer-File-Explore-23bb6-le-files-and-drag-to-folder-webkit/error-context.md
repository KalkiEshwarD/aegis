# Page snapshot

```yaml
- generic [ref=e1]:
  - main [ref=e4]:
    - generic [ref=e6]:
      - img [ref=e8]
      - heading "AegisDrive" [level=1] [ref=e10]
      - heading "Sign in to your vault" [level=6] [ref=e11]
      - form [ref=e12]:
        - generic [ref=e13]:
          - generic [ref=e14]:
            - text: Username or Email Address
            - generic [ref=e15]: "*"
          - generic [ref=e16]:
            - img [ref=e18]
            - textbox "Username or Email Address" [ref=e20]: test@playwright.org
            - group:
              - generic: Username or Email Address *
        - generic [ref=e21]:
          - generic [ref=e22]:
            - text: Password
            - generic [ref=e23]: "*"
          - generic [ref=e24]:
            - textbox "Password" [active] [ref=e25]: TestPlaywright123!@#
            - button "toggle password visibility" [ref=e27] [cursor=pointer]:
              - img [ref=e28] [cursor=pointer]
            - group:
              - generic: Password *
        - button "Sign In" [ref=e30] [cursor=pointer]: Sign In
        - link "Don't have an account? Sign up" [ref=e32]:
          - /url: /register
  - iframe [ref=e33]:
    - generic [ref=f1e2]:
      - generic [ref=f1e3]: "Compiled with problems:"
      - button "Dismiss" [ref=f1e4] [cursor=pointer]: Ã—
      - generic [ref=f1e5]:
        - generic [ref=f1e6]:
          - generic [ref=f1e7]: ERROR in src/test/components/common/ShareLinkManager.test.tsx:178:24
          - generic [ref=f1e8]: "TS2322: Type '{ result: { data: { __typename: string; getFileShares: ({ expires_at: string; __typename: string; id: string; share_token: string; user_file_id: string; password_hash: string; max_downloads: number; download_count: number; created_at: string; user_file: { ...; }; } | { ...; })[]; }; }; request: { ...; }; }' is not assignable to type '{ request: { query: DocumentNode; variables: { userFileId: string; }; }; result: { data: { __typename: string; getFileShares: ({ __typename: string; id: string; share_token: string; user_file_id: string; ... 5 more ...; user_file: { ...; }; } | { ...; })[]; }; }; }'. The types of 'result.data.getFileShares' are incompatible between these types. Type '({ expires_at: string; __typename: string; id: string; share_token: string; user_file_id: string; password_hash: string; max_downloads: number; download_count: number; created_at: string; user_file: { ...; }; } | { ...; })[]' is not assignable to type '({ __typename: string; id: string; share_token: string; user_file_id: string; password_hash: string; expires_at: string; max_downloads: number; download_count: number; created_at: string; user_file: { ...; }; } | { ...; })[]'. Type '{ expires_at: string; __typename: string; id: string; share_token: string; user_file_id: string; password_hash: string; max_downloads: number; download_count: number; created_at: string; user_file: { ...; }; } | { ...; }' is not assignable to type '{ __typename: string; id: string; share_token: string; user_file_id: string; password_hash: string; expires_at: string; max_downloads: number; download_count: number; created_at: string; user_file: { ...; }; } | { ...; }'. Type '{ expires_at: string; __typename: string; id: string; share_token: string; user_file_id: string; password_hash: null; max_downloads: null; download_count: number; created_at: string; user_file: { ...; }; }' is not assignable to type '{ __typename: string; id: string; share_token: string; user_file_id: string; password_hash: string; expires_at: string; max_downloads: number; download_count: number; created_at: string; user_file: { ...; }; } | { ...; }'. Type '{ expires_at: string; __typename: string; id: string; share_token: string; user_file_id: string; password_hash: null; max_downloads: null; download_count: number; created_at: string; user_file: { ...; }; }' is not assignable to type '{ __typename: string; id: string; share_token: string; user_file_id: string; password_hash: null; expires_at: null; max_downloads: null; download_count: number; created_at: string; user_file: { ...; }; }'. Types of property 'expires_at' are incompatible. Type 'string' is not assignable to type 'null'. 176 | }; 177 | > 178 | renderComponent([expiredMock]); | ^^^^^^^^^^^ 179 | 180 | await waitFor(() => { 181 | expect(screen.getByText('Expired')).toBeInTheDocument();"
        - generic [ref=f1e9]:
          - generic [ref=f1e10]: ERROR in src/test/components/common/ShareLinkManager.test.tsx:202:24
          - generic [ref=f1e11]: "TS2322: Type '{ result: { data: { __typename: string; getFileShares: ({ download_count: number; max_downloads: number; __typename: string; id: string; share_token: string; user_file_id: string; password_hash: string; expires_at: string; created_at: string; user_file: { ...; }; } | { ...; })[]; }; }; request: { ...; }; }' is not assignable to type '{ request: { query: DocumentNode; variables: { userFileId: string; }; }; result: { data: { __typename: string; getFileShares: ({ __typename: string; id: string; share_token: string; user_file_id: string; ... 5 more ...; user_file: { ...; }; } | { ...; })[]; }; }; }'. The types of 'result.data.getFileShares' are incompatible between these types. Type '({ download_count: number; max_downloads: number; __typename: string; id: string; share_token: string; user_file_id: string; password_hash: string; expires_at: string; created_at: string; user_file: { ...; }; } | { ...; })[]' is not assignable to type '({ __typename: string; id: string; share_token: string; user_file_id: string; password_hash: string; expires_at: string; max_downloads: number; download_count: number; created_at: string; user_file: { ...; }; } | { ...; })[]'. Type '{ download_count: number; max_downloads: number; __typename: string; id: string; share_token: string; user_file_id: string; password_hash: string; expires_at: string; created_at: string; user_file: { ...; }; } | { ...; }' is not assignable to type '{ __typename: string; id: string; share_token: string; user_file_id: string; password_hash: string; expires_at: string; max_downloads: number; download_count: number; created_at: string; user_file: { ...; }; } | { ...; }'. Type '{ download_count: number; max_downloads: number; __typename: string; id: string; share_token: string; user_file_id: string; password_hash: null; expires_at: null; created_at: string; user_file: { ...; }; }' is not assignable to type '{ __typename: string; id: string; share_token: string; user_file_id: string; password_hash: string; expires_at: string; max_downloads: number; download_count: number; created_at: string; user_file: { ...; }; } | { ...; }'. Type '{ download_count: number; max_downloads: number; __typename: string; id: string; share_token: string; user_file_id: string; password_hash: null; expires_at: null; created_at: string; user_file: { ...; }; }' is not assignable to type '{ __typename: string; id: string; share_token: string; user_file_id: string; password_hash: null; expires_at: null; max_downloads: null; download_count: number; created_at: string; user_file: { ...; }; }'. Types of property 'max_downloads' are incompatible. Type 'number' is not assignable to type 'null'. 200 | }; 201 | > 202 | renderComponent([limitMock]); | ^^^^^^^^^ 203 | 204 | await waitFor(() => { 205 | expect(screen.getByText('Limit Reached')).toBeInTheDocument();"
        - generic [ref=f1e12]:
          - generic [ref=f1e13]: ERROR in src/test/components/common/ShareLinkManager.test.tsx:254:48
          - generic [ref=f1e14]: "TS2322: Type '{ request: { query: DocumentNode; variables: { id: string; }; }; result: { data: { __typename: string; deleteFileShare: boolean; }; }; }' is not assignable to type '{ request: { query: DocumentNode; variables: { userFileId: string; }; }; result: { data: { __typename: string; getFileShares: ({ __typename: string; id: string; share_token: string; user_file_id: string; ... 5 more ...; user_file: { ...; }; } | { ...; })[]; }; }; }'. The types of 'request.variables' are incompatible between these types. Property 'userFileId' is missing in type '{ id: string; }' but required in type '{ userFileId: string; }'. 252 | describe('Delete Share Functionality', () => { 253 | test('opens delete confirmation dialog when delete button clicked', async () => { > 254 | renderComponent([mockGetFileSharesQuery, mockDeleteMutation]); | ^^^^^^^^^^^^^^^^^^ 255 | 256 | await waitFor(() => { 257 | expect(screen.getByText('test.pdf')).toBeInTheDocument();"
        - generic [ref=f1e15]:
          - generic [ref=f1e16]: ERROR in src/test/components/common/ShareLinkManager.test.tsx:270:48
          - generic [ref=f1e17]: "TS2322: Type '{ request: { query: DocumentNode; variables: { id: string; }; }; result: { data: { __typename: string; deleteFileShare: boolean; }; }; }' is not assignable to type '{ request: { query: DocumentNode; variables: { userFileId: string; }; }; result: { data: { __typename: string; getFileShares: ({ __typename: string; id: string; share_token: string; user_file_id: string; ... 5 more ...; user_file: { ...; }; } | { ...; })[]; }; }; }'. 268 | const mockOnShareDeleted = jest.fn(); 269 | > 270 | renderComponent([mockGetFileSharesQuery, mockDeleteMutation], { | ^^^^^^^^^^^^^^^^^^ 271 | onShareDeleted: mockOnShareDeleted, 272 | }); 273 |"
        - generic [ref=f1e18]:
          - generic [ref=f1e19]: ERROR in src/test/components/common/ShareLinkManager.test.tsx:381:48
          - generic [ref=f1e20]: "TS2322: Type '{ request: { query: DocumentNode; variables: { id: string; }; }; result: { data: { __typename: string; deleteFileShare: boolean; }; }; }' is not assignable to type '{ request: { query: DocumentNode; variables: { userFileId: string; }; }; result: { data: { __typename: string; getFileShares: ({ __typename: string; id: string; share_token: string; user_file_id: string; ... 5 more ...; user_file: { ...; }; } | { ...; })[]; }; }; }'. 379 | const mockOnShareDeleted = jest.fn(); 380 | > 381 | renderComponent([mockGetFileSharesQuery, mockDeleteMutation], { | ^^^^^^^^^^^^^^^^^^ 382 | onShareDeleted: mockOnShareDeleted, 383 | }); 384 |"
        - generic [ref=f1e21]:
          - generic [ref=f1e22]: ERROR in src/test/config/api.test.ts:37:19
          - generic [ref=f1e23]: "TS2540: Cannot assign to 'NODE_ENV' because it is a read-only property. 35 | it('should use development endpoint when NODE_ENV is development', () => { 36 | // Mock the environment for this test > 37 | process.env.NODE_ENV = 'development'; | ^^^^^^^^ 38 | delete process.env.REACT_APP_GRAPHQL_ENDPOINT; 39 | delete process.env.REACT_APP_GRAPHQL_ENDPOINT_PROD; 40 |"
        - generic [ref=f1e24]:
          - generic [ref=f1e25]: ERROR in src/test/config/api.test.ts:49:19
          - generic [ref=f1e26]: "TS2540: Cannot assign to 'NODE_ENV' because it is a read-only property. 47 | 48 | it('should use production endpoint when NODE_ENV is production', () => { > 49 | process.env.NODE_ENV = 'production'; | ^^^^^^^^ 50 | delete process.env.REACT_APP_GRAPHQL_ENDPOINT; 51 | delete process.env.REACT_APP_GRAPHQL_ENDPOINT_PROD; 52 |"
        - generic [ref=f1e27]:
          - generic [ref=f1e28]: ERROR in src/test/config/api.test.ts:60:19
          - generic [ref=f1e29]: "TS2540: Cannot assign to 'NODE_ENV' because it is a read-only property. 58 | 59 | it('should prioritize REACT_APP_GRAPHQL_ENDPOINT in development', () => { > 60 | process.env.NODE_ENV = 'development'; | ^^^^^^^^ 61 | process.env.REACT_APP_GRAPHQL_ENDPOINT = 'http://custom-dev:3000/graphql'; 62 | 63 | jest.resetModules();"
        - generic [ref=f1e30]:
          - generic [ref=f1e31]: ERROR in src/test/config/api.test.ts:70:19
          - generic [ref=f1e32]: "TS2540: Cannot assign to 'NODE_ENV' because it is a read-only property. 68 | 69 | it('should prioritize REACT_APP_GRAPHQL_ENDPOINT_PROD in production', () => { > 70 | process.env.NODE_ENV = 'production'; | ^^^^^^^^ 71 | process.env.REACT_APP_GRAPHQL_ENDPOINT_PROD = 'https://custom-prod.com/graphql'; 72 | 73 | jest.resetModules();"
```